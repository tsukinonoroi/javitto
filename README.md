# Javitto - MVP Backend API для доски объявлений

Javitto — это минимально жизнеспособный продукт (MVP) для создания и управления доской объявлений. Проект включает в себя бэкенд-API с основными функциями работы с объявлениями и пользователями.

## Технологии

- **Java 21** — основная платформа для разработки.
- **Spring**:
  - **Spring Web** — для создания RESTful API.
  - **Spring Data** — для работы с PostgreSQL.
  - **Spring Security** — для обеспечения безопасности.
  - **Spring MailSender** — для отправки email-уведомлений.
- **PostgreSQL** — реляционная база данных для хранения данных.
- **Keycloak** — для реализации SSO (Single Sign-On) и управления пользователями.
- **Redis** — для кэширования и счётчика просмотров.
- **Cloudinary** — для хранения и обработки изображений (фотки объявлений).
- **Swagger Open API** — для автоматической генерации документации API.
- **Docker** — для контейнеризации приложения.
- **ELK Stack**:
  - **Elasticsearch** — для полнотекстового поиска по объявлениям.
  - **Logstash** — для сбора и передачи логов.
  - **Kibana** — для визуализации логов и мониторинга.
  
## Особенности

- **SSO с Keycloak**: позволяет пользователям регистрироваться и авторизовываться через систему единого входа с использованием Keycloak.
- **JWT Authentication**: безопасная аутентификация с использованием JWT (JSON Web Token).
- **Redis Cache**: кэширование данных с использованием Redis для ускорения доступа и уменьшения нагрузки на базу данных.
- **Счётчик просмотров с Redis**: отслеживание количества просмотров каждого объявления с использованием Redis.
- **Email-уведомления**: отправка email-уведомлений пользователям при регистрации и создании объявления.
- **Cloudinary для файлов**: файлы (фотографии объявлений) хранятся в облаке, что помогает экономить место в базе данных.
- **UNIT-тесты**: написаны юнит-тесты для проверки основного функционала приложения с использованием JUnit5 и Mockito.
- **Полнотекстовый поиск**: Elasticsearch используется для реализации быстрого и мощного полнотекстового поиска по объявлениям.
- **Логирование**: сбор логов с использованием Logstash, логирование в Logback для удобного отслеживания ошибок и событий.
- **Отображение логов**: Kibana для мониторинга и анализа логов, чтобы отслеживать работу приложения и выявлять проблемы.

## Функционал

1. **Регистрация и аутентификация пользователей**:
   - Поддержка регистрации и входа через Keycloak (SSO).
   - JWT-токены для безопасной аутентификации.

2. **Объявления**:
   - CRUD-операции для создания, редактирования и удаления объявлений.
   - Возможность добавления изображений, которые хранятся в Cloudinary.

3. **Просмотры объявлений**:
   - Счётчик просмотров объявлений с использованием Redis, для того, чтобы не нагружать основую БД.

4. **Поиск объявлений**:
   - Полнотекстовый поиск по объявлениям с использованием Elasticsearch.

5. **Email-уведомления**:
   - Отправка уведомлений пользователю при регистрации и создании объявления.

6. **Логирование**:
   - Логи собираются и обрабатываются с использованием Logstash и отображаются через Kibana.

7. **Фильтры**
   - Фильтры основаны на Elasticsearch-документах, фильтрация происходит по полям City/Category.

## Запуск проекта

### Требования

- Java 21
- Docker (для контейнеризации)
- PostgreSQL
- Redis
- Keycloak
- Cloudinary аккаунт (для хранения изображений)
- Elasticsearch (для полнотекстового поиска и для хранения логов)
- Logstash/Kibana (хранение логов и отображение их на дэшбордах)

### Установка

1. Клонируйте репозиторий:

   git clone https://github.com/yourusername/javitto.git
   cd javitto

2. Создайте файл application.yml и добавьте все необходимые зависимости, чтобы работал MailSender - нужно также указать свою конфигурацию.

3. Запустите приложение с помощью docker-compose up --build

Связь со мной/Contact with me : 
- Email : seytumerov.e.i21@gmail.com
- Telegram : @tsukinonoroi 
